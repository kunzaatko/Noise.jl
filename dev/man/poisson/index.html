<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Poisson · Noise.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Noise.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Noise.jl</a></li><li><a class="toctext" href="../additive_white_gaussian/">Additive White Gaussian</a></li><li><a class="toctext" href="../salt_pepper/">Salt and Pepper</a></li><li class="current"><a class="toctext" href>Poisson</a><ul class="internal"><li><a class="toctext" href="#Usage-1">Usage</a></li><li><a class="toctext" href="#Examples-1">Examples</a></li></ul></li><li><a class="toctext" href="../function_references/">Function References</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Poisson</a></li></ul><a class="edit-page" href="https://github.com/roflmaostc/Noise.jl/blob/master/docs/src/man/poisson.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Poisson</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Poisson-1" href="#Poisson-1">Poisson</a></h1><p>Poisson noise originates from the discrete nature of events. For example the dataset could be a microscopy image with very limited intensity (like a flourescent specimen).  In this case the probability that one measures a specific number of photons is:</p><div>\[P(k) = \frac{\lambda^k \exp(-\lambda)}{k!}\]</div><p>where <span>$\lambda$</span> being the expected value and <span>$k$</span> the measured one. Our Poisson noise randomly picks values out of this distribution.</p><h2><a class="nav-anchor" id="Usage-1" href="#Usage-1">Usage</a></h2><p>We provide the following method for arrays, Gray images and RGB images.</p><pre><code class="language-julia">poisson(X; scaling=1, clip=false)</code></pre><p><code>X</code> is the array. </p><p>Poisson noise is applied to each array element individually where <span>$\lambda$</span> is determined by the value itself.  However, for example sensors do not measure the number of photons directly but instead some intensity.  <code>scaling</code> is a optional argument to connect the intensity to a number of discrete events. For example, usually one can estimate that the highest pixel in the measured data corresponds to 100 photons, in that case you provide <code>scaling=100</code> to the method. Usually one wants to provide this parameter. If you provide an array which already contains integer numbers which corresponds to the measured discrete events,  you can ommit <code>scaling</code>.</p><h2><a class="nav-anchor" id="Examples-1" href="#Examples-1">Examples</a></h2><p>Here some examples with images.</p><pre><code class="language-">using Noise, TestImages, Images
img_gray = testimage(&quot;lena_gray_256&quot;)
img_color = testimage(&quot;lena_color_256&quot;)

# the highest intensity corresponds to 10 photons
img_gray_noise = poisson(img_gray, 10.0)
# the highest intensity corresponds to 1000 photons
img_gray_noise_heavy = poisson(img_gray, 1000.0)
img_color_noise = poisson(img_color, 100.0)


save(&quot;../images/pois_img_gray_noise.png&quot;, img_gray_noise) # hide
save(&quot;../images/pois_img_gray_noise_heavy.png&quot;, img_gray_noise_heavy) # hide
save(&quot;../images/pois_img_color_noise.png&quot;, img_color_noise) # hide
nothing # hide</code></pre><p>As it can be seen clearly, the image with more measured photons, is less affected by noise.</p><table><tr><th style="text-align: left">Grayscale with 10 photons at the brightest value</th><th style="text-align: left">Grayscale image 1000 photons at the brightest value</th><th style="text-align: left">RGB image with 100 photons at the brightest value</th></tr><tr><td style="text-align: left"><img src="../images/pois_img_gray_noise.png" alt/></td><td style="text-align: left"><img src="../images/pois_img_gray_noise_heavy.png" alt/></td><td style="text-align: left"><img src="../images/pois_img_color_noise.png" alt/></td></tr></table><h3><a class="nav-anchor" id="D-Arrays-1" href="#D-Arrays-1">1D Arrays</a></h3><p>Poisson noise cannot handle negative occurences by design, therefore the 1D array is a y-shifted sinus curve.</p><pre><code class="language-julia">using Noise, Plots

x = LinRange(0.0, 10.0, 1000)
y = 1 .* sin.(x) .+ 1
# small noise
y_noise = poisson(y, 100)
# heavy noise and mean shift

plot(x,y)
plot!(x, y_noise)</code></pre><pre><code class="language-none">/home/travis/.julia/packages/GR/yMV3y/src/../deps/gr/bin/gksqt: error while loading shared libraries: libQt5Widgets.so.5: cannot open shared object file: No such file or directory
connect: Connection refused
GKS: can&#39;t connect to GKS socket application

GKS: Open failed in routine OPEN_WS
GKS: GKS not in proper state. GKS must be either in the state WSOP or WSAC in routine ACTIVATE_WS</code></pre><p>We notice that amount of noise is, in contradiction to additive noise, higher for higher intensity values. However, the signal-to-noise ratio is better for higher intensity values. This was visible in the Lena image. <img src="../../images/pois_series.png" alt/></p><footer><hr/><a class="previous" href="../salt_pepper/"><span class="direction">Previous</span><span class="title">Salt and Pepper</span></a><a class="next" href="../function_references/"><span class="direction">Next</span><span class="title">Function References</span></a></footer></article></body></html>
